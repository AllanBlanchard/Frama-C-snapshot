/* Generated by Frama-C */
#include "stdio.h"
#include "stdlib.h"
extern int __e_acsl_sound_verdict;

/*@ requires \valid(y);
    requires *x ≥ 0;
    ensures *\old(x) ≡ \old(*x) + 1;
    assigns *x;
    assigns *x \from *x, x;
    
    behavior b1:
      assumes *x ≡ 1;
      ensures *\old(x) < 0;
      assigns \nothing;
    
    behavior b2:
      assumes *x ≡ 0;
      ensures *\old(x) ≡ 1;
    
    complete behaviors b2, b1;
    disjoint behaviors b1, b2;
 */
void __gen_e_acsl_f(int *x, int *y);

void f(int *x, int *y)
{
  /*@ requires *x ≥ 0;
      ensures 2 ≥ 1;
      assigns *x; */
  {
    {
      int __gen_e_acsl_valid_read;
      __e_acsl_store_block((void *)(& y),(size_t)8);
      __e_acsl_store_block((void *)(& x),(size_t)8);
      __gen_e_acsl_valid_read = __e_acsl_valid_read((void *)x,sizeof(int),
                                                    (void *)x,(void *)(& x));
      __e_acsl_assert(__gen_e_acsl_valid_read,(char *)"RTE",(char *)"f",
                      (char *)"mem_access: \\valid_read(x)",27);
      __e_acsl_assert(*x >= 0,(char *)"Precondition",(char *)"f",
                      (char *)"*x >= 0",27);
    }
    __e_acsl_initialize((void *)x,sizeof(int));
    (*x) ++;
    __e_acsl_assert(1,(char *)"Postcondition",(char *)"f",(char *)"2 >= 1",
                    28);
  }
  {
    int i = 0;
    /*@ loop invariant 0 ≤ i ≤ 1;
        loop variant 2 - i; */
    while (i < 1) {
      /*@ assert 1 ≡ 1; */ ;
      /*@ assert \valid(y); */ ;
      i ++;
    }
  }
  __e_acsl_delete_block((void *)(& y));
  __e_acsl_delete_block((void *)(& x));
  return;
}

int main(void)
{
  int __retres;
  __e_acsl_memory_init((int *)0,(char ***)0,(size_t)8);
  int x = 0;
  __e_acsl_store_block((void *)(& x),(size_t)4);
  __e_acsl_full_init((void *)(& x));
  int *y = malloc(sizeof(int));
  __e_acsl_store_block((void *)(& y),(size_t)8);
  __e_acsl_full_init((void *)(& y));
  __gen_e_acsl_f(& x,y);
  __retres = 0;
  __e_acsl_delete_block((void *)(& y));
  __e_acsl_delete_block((void *)(& x));
  __e_acsl_memory_clean();
  return __retres;
}

/*@ requires \valid(y);
    requires *x ≥ 0;
    ensures *\old(x) ≡ \old(*x) + 1;
    assigns *x;
    assigns *x \from *x, x;
    
    behavior b1:
      assumes *x ≡ 1;
      ensures *\old(x) < 0;
      assigns \nothing;
    
    behavior b2:
      assumes *x ≡ 0;
      ensures *\old(x) ≡ 1;
    
    complete behaviors b2, b1;
    disjoint behaviors b1, b2;
 */
void __gen_e_acsl_f(int *x, int *y)
{
  {
    int __gen_e_acsl_valid;
    __e_acsl_store_block((void *)(& y),(size_t)8);
    __e_acsl_store_block((void *)(& x),(size_t)8);
    __gen_e_acsl_valid = __e_acsl_valid((void *)y,sizeof(int),(void *)y,
                                        (void *)(& y));
    __e_acsl_assert(__gen_e_acsl_valid,(char *)"Precondition",(char *)"f",
                    (char *)"\\valid(y)",12);
  }
  f(x,y);
  __e_acsl_delete_block((void *)(& y));
  __e_acsl_delete_block((void *)(& x));
  return;
}


